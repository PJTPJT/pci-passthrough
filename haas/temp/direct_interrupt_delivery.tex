% Describe the direct interrupt delivery and its benefits.
Our design uses the hardware-assisted posted interrupt
mechanism and achieves the direct interrupt delivery of
assigned devices and local timers without the intervention of
hypervisor. It reduces the hypervisor CPU utilization and
dedicates the CPU time to the guest. Under the normal
circumstances, the guest can not handle physical interrupts
without the hypervisor. When a physical interrupt is delivered
to the guest, it induces the following overheads. First, it
triggers the VM exit and transfer the control to the host.
Saving and loading the execution context between the root and
non-root mode waste the CPU cycles. Second, the host needs to
examine and handle the physical interrupt. If the physical
interrupt is meant for the guest, the host needs to deliver it
as the virtual interrupt upon the next VM entry. Otherwise,
the host handles it and schedules the next VM entry. Third,
when the guest's interrupt handler finishes, it writes to the
EOI register. Such write operation may induce the VM exit.
Since the guest is not aware of the distinction between the
physical and virtual interrupt, it signals the completion of
interrupt in the same way. After the guest handles the virtual
interrupt, its EOI update is normally emulated by the host.
Fourth, the host may need to use CPU cache and reduce the time
to handle the physical interrupt. This introduces the CPU
cache pollution.
