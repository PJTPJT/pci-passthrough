# This file describes the network interfaces available on your system
# and how to activate them. For more information, see interfaces(5).

source /etc/network/interfaces.d/*

# The loopback network interface
auto lo
iface lo inet loopback

auto ens5
iface ens5 inet manual
#  bond-master bond0
#  bond-primary ens5
#  bond-mode active-backup

auto ens4
iface ens4 inet manual
#  bond-master bond0
#  bond-primary ens5
#  bond-mode active-backup

# Define the master.
auto bond0
iface bond0 inet static
  #hwaddress ether 4e:81:12:72:84:51
  address 10.128.33.12
  broadcast 10.128.255.255
  netmask 255.255.0.0
  gateway 10.128.0.2
  dns-nameservers 128.226.118.12
  dns-search osnet1.cs.binghamton.edu
#  bond-slaves ens5 ens4
#  bond-primary ens5
# bond-mode active-backup
# bond-miimon 100

# NOTE
# Active-backup policy: Only one slave in the bond is active.
# A different slave becomes active if, and only if, the active
# slave fails. The bond's MAC address is externally visible on
# only one port (network adapter) to avoid confusing the
# switch. https://wiki.debian.org/Bonding
#
# We need to define the MAC address or it will copy the MAC
# address of passthrough NIC. After the host take back the
# NIC, the host and guest have the same MAC address. When the
# guest's package arrives, it will deliver to the host instead
# of the guest.

